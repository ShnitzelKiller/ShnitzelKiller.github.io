<?xml version="1.0" encoding="utf-8"?><feed xmlns="http://www.w3.org/2005/Atom" xml:lang="en"><generator uri="https://jekyllrb.com/" version="4.3.4">Jekyll</generator><link href="https://shnitzelkiller.github.io/feed.xml" rel="self" type="application/atom+xml"/><link href="https://shnitzelkiller.github.io/" rel="alternate" type="text/html" hreflang="en"/><updated>2024-12-21T18:23:41+00:00</updated><id>https://shnitzelkiller.github.io/feed.xml</id><title type="html">James Wei-Shan Noeckel</title><subtitle>Construction, Reconstruction, Rendering </subtitle><entry><title type="html">Making fancy visualizations of CAD construction sequences</title><link href="https://shnitzelkiller.github.io/blog/2024/visualizing_breps/" rel="alternate" type="text/html" title="Making fancy visualizations of CAD construction sequences"/><published>2024-12-15T01:59:00+00:00</published><updated>2024-12-15T01:59:00+00:00</updated><id>https://shnitzelkiller.github.io/blog/2024/visualizing_breps</id><content type="html" xml:base="https://shnitzelkiller.github.io/blog/2024/visualizing_breps/"><![CDATA[<figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/breps-480.webp 480w,/assets/img/breps-800.webp 800w,/assets/img/breps-1400.webp 1400w," type="image/webp" sizes="95vw"/> <img src="/assets/img/breps.jpg" class="img-fluid rounded z-depth-1" width="100%" height="auto" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"/> </picture> </figure> <h1 id="introduction">Introduction</h1> <p>The lucky few who attended my <a href="/news/thesis_defense">thesis defense</a> will no doubt have been blown away by my schematic animations illustrating the topology of computer-aided design representations. I actually created a couple of Blender modifiers to make this quite easy for myself (and hopefully, others in the future)—which can be applied to any mesh, with minimal manual intervention.</p> <p>This was achieved using Geometry Nodes in Blender, a powerful tool for procedurally modifying and generating geometry.</p> <div class="row mt-3"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/nodetree-480.webp 480w,/assets/img/nodetree-800.webp 800w,/assets/img/nodetree-1400.webp 1400w," type="image/webp" sizes="95vw"/> <img src="/assets/img/nodetree.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"/> </picture> </figure> </div> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/undexploded-480.webp 480w,/assets/img/undexploded-800.webp 800w,/assets/img/undexploded-1400.webp 1400w," type="image/webp" sizes="95vw"/> <img src="/assets/img/undexploded.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"/> </picture> </figure> </div> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/exploded-480.webp 480w,/assets/img/exploded-800.webp 800w,/assets/img/exploded-1400.webp 1400w," type="image/webp" sizes="95vw"/> <img src="/assets/img/exploded.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"/> </picture> </figure> </div> </div> <div class="caption"> The node tree transforms the mesh on the left into the exploded B-Rep diagram on the right. </div> <h1 id="b-rep-visualization-tools">B-Rep Visualization Tools</h1> <p>You can download the tool <a href="https://drive.google.com/file/d/1tjDqShugCwkDq1s5g-gYVVWWQz86WY_U/view?usp=drive_link">here</a> (as a zipped .blend file).</p> <p>Simply extract the .blend file and place it in your Blender assets folder (whatever path is set in Blender Preferences -&gt; File Paths -&gt; Asset Libraries). You now have access to two modifiers: <strong>Creased Boolean</strong> and <strong>Wireframe</strong>. To understand what these do, let’s look at an example animation created using these tools:</p> <div class="col-sm mt-3 mt-md-0"> <figure> <video src="/assets/video/bloob.webm" class="img-fluid rounded z-depth-1" width="auto" height="auto" autoplay="" controls="" loop=""/> </figure> </div> <p>The mesh at each point in time is the result of performing various mesh boolean operations, placing wireframe edges and vertices wherever the meshes intersect. The exploded diagram is also procedural, computing on the fly which mesh faces are bounded by each closed loop in the wireframe and displacing them, as well as prettifying their boundary loops (green).</p> <h2 id="creased-boolean">Creased Boolean</h2> <p>This is like the regular Boolean modifier in Blender, except it records extra information to be used by the Wireframe node to create our final exploded diagram. Namely, it records where the intersection edges of the meshes used in the boolean are, so that we can reliably render the boundaries of the two surfaces (This information is stored in as <em>edge crease</em> data, hence the name).</p> <div class="row mt-3"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/creased1-480.webp 480w,/assets/img/creased1-800.webp 800w,/assets/img/creased1-1400.webp 1400w," type="image/webp" sizes="95vw"/> <img src="/assets/img/creased1.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"/> </picture> </figure> </div> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/creased2-480.webp 480w,/assets/img/creased2-800.webp 800w,/assets/img/creased2-1400.webp 1400w," type="image/webp" sizes="95vw"/> <img src="/assets/img/creased2.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"/> </picture> </figure> </div> </div> <div class="caption"> The intersection of the sphere and cube is recorded in the edge crease information (purple). </div> <h2 id="wireframe">Wireframe</h2> <p>This is the modifier that does the heavy lifting. It should be placed <em>after</em> the Creased boolean modifier in the modifier stack.</p> <div class="row mt-3"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/creased3-480.webp 480w,/assets/img/creased3-800.webp 800w,/assets/img/creased3-1400.webp 1400w," type="image/webp" sizes="95vw"/> <img src="/assets/img/creased3.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"/> </picture> </figure> </div> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/modifier-480.webp 480w,/assets/img/modifier-800.webp 800w,/assets/img/modifier-1400.webp 1400w," type="image/webp" sizes="95vw"/> <img src="/assets/img/modifier.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"/> </picture> </figure> </div> </div> <p>This modifier has many properties to control the state of the visualization, all of which can be animated as usual. Most pertinent is the <strong>explosion factor</strong>, which controls how “exploded” the faces are from the center. You can also move the center from which they emanate by dragging the transform gizmo which appears in the 3D viewport with the object selected, or changing the <strong>explode origin</strong> property in the modifier panel.</p> <p>Another useful property is the <strong>angle threshold</strong>, which controls the angle (in radians) at which to consider a face part of the wireframe (the larger the value, the more edges will be “smoothed” out and rejected from the wireframe).</p> <div class="row mt-3"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/angle0-480.webp 480w,/assets/img/angle0-800.webp 800w,/assets/img/angle0-1400.webp 1400w," type="image/webp" sizes="95vw"/> <img src="/assets/img/angle0.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"/> </picture> </figure> </div> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/angle1-480.webp 480w,/assets/img/angle1-800.webp 800w,/assets/img/angle1-1400.webp 1400w," type="image/webp" sizes="95vw"/> <img src="/assets/img/angle1.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"/> </picture> </figure> </div> </div> <div class="caption"> Small angle threshold (left) vs. large angle threshold (right). </div> <p>Remember how the Creased Boolean node stores extra boundary information in the edge crease data? Well, you can crease edges manually with shift+E, too, if you want those edges to be included in the wireframe. In this example, we probably want to visualize the boundary between the bevel surface and the planar surfaces, since in CAD software these would be represented by distinct parametric surfaces (cylinder and planes, respectively).</p> <div class="row mt-3"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/creased4-480.webp 480w,/assets/img/creased4-800.webp 800w,/assets/img/creased4-1400.webp 1400w," type="image/webp" sizes="95vw"/> <img src="/assets/img/creased4.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"/> </picture> </figure> </div> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/angle2-480.webp 480w,/assets/img/angle2-800.webp 800w,/assets/img/angle2-1400.webp 1400w," type="image/webp" sizes="95vw"/> <img src="/assets/img/angle2.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"/> </picture> </figure> </div> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/angle3-480.webp 480w,/assets/img/angle3-800.webp 800w,/assets/img/angle3-1400.webp 1400w," type="image/webp" sizes="95vw"/> <img src="/assets/img/angle3.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"/> </picture> </figure> </div> </div> <div class="caption"> Creases added in edit mode (left) show up as additional edges in the wireframe. Any enclosed regions are automatically treated as separate faces in the exploded configuration. </div> <h1 id="closing-remarks">Closing remarks</h1> <p>Using these modifiers, you can create CAD-style visualizations in Blender, even if you don’t have a true CAD model, only a mesh (as often happens). What’s more, the properties exposed by these modifiers can be freely animated thanks to Blender’s flexibility, creating many creative effects beyond the realm of instructive visualization.</p> <div class="col-sm mt-3 mt-md-0"> <figure> <video src="/assets/video/shaking4.mp4" class="img-fluid rounded z-depth-1" width="auto" height="auto" controls=""/> </figure> </div>]]></content><author><name></name></author><category term="tutorials"/><category term="blender,"/><category term="CAD"/><summary type="html"><![CDATA[How did I make those pretty animations in my thesis talk? I provide some tools to make this easy in Blender.]]></summary></entry></feed>